## Exploit

When looking at the function within the code you notice that it is  referencing an `id` which is of type string slice returning the file that it is associated with.

Using the `concat!` and `env!` macros  allows the code to take the project directory and concatenates the string literal into a string slice.  This variable is what sets the directory we are going to reach out to. In this case  the `~/upload` directory in the application.

```rust
#[get("/<id>")]
async  fn  retrieve(id:  &str) ->  Option<File> {
    let  upload_dir  =  concat!(env!("CARGO_MANIFEST_DIR"), "/", "upload");
    let  filename  =  Path::new(upload_dir).join(id);
    File::open(&filename).await.ok()
}
```

Following the assignment of the upload directory, the filename is assigned using with new function of the Path module which takes the argument that was just assigned and joins them together with the corresponding id.  The file is then opened by using the File module functionality from the standard library.

The vulnerability in this code comes from the fact that  when you issues a retrieve request it will read through directories based on the string slices type and return something such as a password file without you explicitly knowing the exact location.  This can lead to damaging information disclosure as a malicious actor can freely send requests probing the application.
